#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

// 15724 _ 주지수

// 문제
// 네모 왕국의 왕인 진경대왕은 왕국의 영토를 편하게 통치하기 위해서 1X1의 단위 구역을 여러 개 묶어서 하나의 거대 행정구역인 주지수(州地數, 마을의 땅을 셈)를 만들 예정이다.
// 진경대왕은 주지수를 만들기 위해서 일정한 직사각형 범위 내에 살고 있는 사람 수를 참고 자료로 쓰고 싶어한다.
// 
// 진경대왕은 굉장히 근엄한 왕이기 때문에 당신에게 4개의 숫자로 직사각형 범위를 알려줄 것이다.
// 
// 예를 들어, 위와 같이 사람이 살고 있다고 가정할 때 <그림 1>의 직사각형 범위의 사람 수를 알고 싶다면 진경대왕은 네 개의 정수 1 1 3 2를 부를 것이다.
// 마찬가지로 <그림 2>는 1 1 1 4, <그림 3>은 1 1 4 4가 될 것이다.
// 
// 진경대왕을 위하여 이 참고 자료를 만들어내는 프로그램을 작성해보자.
// 
// 입력
// 첫째 줄에 영토의 크기 N, M(1 ≤ N, M ≤ 1, 024)이 주어진다.
// 
// 다음 N개의 줄에는 M개의 정수로 단위 구역 내에 살고 있는 사람 수가 주어진다.
// 각 단위 구역 내에 살고 있는 사람 수는 100명 이하이며, 각 단위 구역 별 최소 1명의 사람은 살고 있다.
// 
// 그 다음 줄에는 진경대왕이 인구 수를 궁금해하는 직사각형 범위의 개수 K(1 ≤ K ≤ 100, 000)가 주어진다.
// 
// 다음 K개의 줄에는 네 개의 정수로 직사각형 범위 x1, y1, x2, y2가 주어진다(x1 ≤ x2, y1 ≤ y2).
// 
// 출력
// K개의 줄에 순서대로 주어진 직사각형 범위 내에 살고 있는 사람 수의 합을 출력한다.

int table[1025][1025] = { 0, };

int main() {
    int W, H;
    scanf("%d %d", &H, &W);

    for (int i = 1; i <= H; i++) {
        for (int j = 1; j <= W; j++) {
            scanf("%d", &table[i][j]);
            table[i][j] = table[i][j] + table[i - 1][j] + table[i][j - 1] - table[i - 1][j - 1];
        }
    }

    int N;
    scanf("%d", &N);

    int x1, y1, x2, y2;

    int answer = 0;

    for (int i = 0; i < N; i++) {
        scanf("%d %d %d %d", &x1, &y1, &x2, &y2);

        answer = table[x2][y2] + table[x1 - 1][y1 - 1] - table[x1 - 1][y2] - table[x2][y1 - 1];
        printf("%d\n", answer);
    }


    return 0;
}